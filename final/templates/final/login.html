{% extends 'base_layout.html' %}

{% load static %}

{% block extra_css_files %}<link rel="stylesheet" href="{% static 'final/css/login.css' %}">{%endblock %}

{% block page_title %}Login user{% endblock %}

{% block page_content %}
  <div class="logo-container" style="text-align: center; margin-bottom: 20px; margin-right: 25px;">
    <a href="/">
        <img src="{% static 'final/images/skitlogo.png' %}" alt="Logo"
             style="width: 80px;height: auto;">
    </a>
  </div>

  <div class="test-header">
    <h1>IoT Lab Portal</h1>
  </div>

<div class="auth-container">
    <div id="student" class="form-section">
      <h2>Student Login</h2>
{% if messages %}
  <div class="message-container">
    {% for message in messages %}
      <p class="error-message">{{ message }}</p>
    {% endfor %}
  </div> 
{% endif %}
      <form method="POST" action="{% url 'final:login' %}">
        {% csrf_token %}
        <input type="hidden" name="form_type" value="user_login">
        <input type="text" name="username" placeholder="Enter RTU roll number" required />
        <input type="password" name="password" placeholder="Password" required />
         <button type="submit">Login</button>
        <p class="switch-link" onclick="toggleForm('signup')">New user? Sign up here</p>
      </form>
    </div>


      <form id="signup" method="POST" class="hidden">
          {% csrf_token %}
           <input type="hidden" name="form_type" value="user_signup">
        <h2>Student Sign Up</h2>
        <input type="text" placeholder="First Name" name="first_name" required />
          <input type="text" placeholder="Last Name" name="last_name" required />
        <input type="text" placeholder="Roll Number" name = "roll_number" required />
        <input type="email" placeholder="College Email"  name="college_email" required />
        <input type="password" placeholder="Set Password" name="password" required />
        <button type="submit">Register</button>
        <p class="switch-link" onclick="toggleForm('student')">Already have an account? Login</p>
      </form>
  </div>
{% endblock %}

{% block extra_js_files %}<script src="{% static 'final/js/login.js' %}"></script>{% endblock %}